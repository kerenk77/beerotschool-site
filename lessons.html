<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ó–∞–ø–∏—Å–∏ —É—Ä–æ–∫–æ–≤ ‚Äî Beerot School</title>
  <link rel="stylesheet" href="style.css">
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: Arial, sans-serif; margin:0; background:#f7f7fb; color:#222; }

    .container { max-width:1200px; margin:1.5rem auto; padding:1rem; }
    h1 { text-align:center; margin-bottom:1rem; color:#1a202c; }

    .search-row { display:flex; justify-content:center; margin:0 0 1rem; }
    .search-row input {
      width:100%; max-width:640px; padding:0.6rem 0.9rem; border:1px solid #e2e8f0;
      border-radius:10px; font-size:1rem; outline:none; background:#fff;
    }

    .video-grid {
      display:grid;
      gap:1rem;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      align-items:start;
    }

    .card {
      background:#fff;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
    }

    .thumb-wrap {
      width:100%;
      height:0;
      padding-bottom:56.25%; /* 16:9 */
      position:relative;
      background:#eef2f7;
      cursor:pointer;
    }
    .thumb-wrap img {
      position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;
    }
    .thumb-wrap::after {
      content:"‚ñ∂";
      position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
      font-size:2.5rem; color:white; text-shadow:0 2px 8px rgba(0,0,0,0.5);
      pointer-events:none;
    }

    .card-body { padding:0.8rem 0.9rem; display:flex; flex-direction:column; gap:0.4rem; flex:1; }
    .title { font-size:0.98rem; margin:0; color:#0f1724; }
    .meta { font-size:0.82rem; color:#718096; }
    .desc { font-size:0.9rem; color:#4a5568; flex:1; overflow:hidden; }

    .actions { display:flex; gap:0.5rem; margin-top:0.6rem; flex-wrap:wrap; }
    .btn { text-decoration:none; padding:0.45rem 0.7rem; border-radius:8px; font-weight:600; font-size:0.88rem; }
    .btn-watch { background:#3b82f6; color:#fff; }
    .btn-open { background:#eef2ff; color:#0f1724; border:1px solid rgba(59,130,246,0.12); }

    .hidden { display:none !important; }

    .show-more { display:block; margin:1.5rem auto; padding:0.6rem 1.2rem;
      background:#3b82f6; color:#fff; border:none; border-radius:8px;
      font-size:1rem; cursor:pointer; }
  </style>
</head>
<body>

<header id="siteHeader"></header>
<script src="menu.js"></script>

<div class="container">
  <h1>–ó–∞–ø–∏—Å–∏ —É—Ä–æ–∫–æ–≤</h1>

  <div class="search-row">
    <input id="search" type="text" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é...">
  </div>

  <div id="grid" class="video-grid"></div>
  <button id="showMore" class="show-more">–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë</button>
</div>

<script>
  // === –î–ê–ù–ù–´–ï –£–†–û–ö–û–í ===
  const lessons = [
    {
      id: "0wMFs4PsZyA",
      title: "–ü—Ä–∏—Ç—á–∞ '–¶–∞—Ä—å –≤ –ø–æ–ª–µ', –æ –º–µ—Å—è—Ü–µ –≠–ª—É–ª—å –∏ –¥–µ—Å—è—Ç–∏ –¥–Ω–µ–π —Ä–∞—Å–∫–∞—è–Ω–∏—è",
      desc: "–í —á–µ–º –æ—Å–æ–±–µ–Ω –º–µ—Å—è—Ü –≠–ª—É–ª—å? –ò –∫–∞–∫ –æ–±—ä—è—Å–Ω–∏—Ç—å —ç—Ç—É –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –¥–µ—Ç—è–º? –≠—Ç–∞ –ø—Ä–∏—Ç—á–∞ –¥–∞—Å—Ç –æ—Ç–≤–µ—Ç—ã!",
    },
    {
      id: "0hhyiBh7f7w",
      title: "–ú–µ—Å—è—Ü –≠–ª—É–ª—å",
      desc: "–†–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–±–µ –ò—Å—Ä–æ–µ–ª—å.",
      start: 31
    },
    {
      id: "m6WTTctVMvI",
      title: "–ú–∞–ª—å—á–∏–∫, —Å–ø–∞—Å—à–∏–π –∫–æ—Ä–∞–±–ª—å",
      desc: "–†–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–±–µ –ò—Å—Ä–æ–µ–ª—å."
    }
    // üëâ –î–æ–±–∞–≤–ª—è–π —Å—é–¥–∞ –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ (—Å–≤–µ—Ä—Ö—É)
    // { id: "VIDEO_ID", title: "–ù–∞–∑–≤–∞–Ω–∏–µ", desc: "–û–ø–∏—Å–∞–Ω–∏–µ" }
  ];

  const grid = document.getElementById("grid");
  const showMoreBtn = document.getElementById("showMore");
  let shownCount = 0;
  const perPage = 8;

  function renderCard(lesson) {
    const { id, title, desc, start=0 } = lesson;
    const thumb = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
    const embed = `https://www.youtube.com/embed/${id}?rel=0&modestbranding=1${start?`&start=${start}`:""}`;
    const watch = `https://www.youtube.com/watch?v=${id}${start?`&t=${start}s`:""}`;

    const card = document.createElement("article");
    card.className = "card";
    card.dataset.title = title;
    card.dataset.desc = desc;

    card.innerHTML = `
      <div class="thumb-wrap" data-embed="${embed}">
        <img src="${thumb}" alt="${title}">
      </div>
      <div class="card-body">
        <h3 class="title">${title}</h3>
        <div class="meta">Beerot School</div>
        <div class="desc">${desc}</div>
        <div class="actions">
          <a class="btn btn-watch" href="${watch}" target="_blank">–°–º–æ—Ç—Ä–µ—Ç—å</a>
          <a class="btn btn-open" href="${embed}" target="_blank">–û—Ç–∫—Ä—ã—Ç—å</a>
        </div>
      </div>
    `;

    // –ü—Ä–∏ –∫–ª–∏–∫–µ –∑–∞–º–µ–Ω—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –Ω–∞ iframe
    card.querySelector(".thumb-wrap").addEventListener("click", e => {
      e.currentTarget.innerHTML = `<iframe src="${embed}&autoplay=1"
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; 
        encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
    });

    return card;
  }

  function loadMore() {
    const slice = lessons.slice(shownCount, shownCount+perPage);
    slice.forEach(lesson => grid.appendChild(renderCard(lesson)));
    shownCount += slice.length;
    if (shownCount >= lessons.length) showMoreBtn.style.display = "none";
  }

  // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  loadMore();
  showMoreBtn.addEventListener("click", loadMore);

  // === –ü–æ–∏—Å–∫ ===
  const searchInput = document.getElementById("search");
  searchInput.addEventListener("input", () => {
    const q = searchInput.value.toLowerCase();
    grid.querySelectorAll(".card").forEach(card => {
      const hay = (card.dataset.title + " " + card.dataset.desc).toLowerCase();
      card.classList.toggle("hidden", q && !hay.includes(q));
    });
  });
</script>

</body>
</html>
