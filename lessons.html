<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Записи уроков — Beerot School</title>
  <link rel="stylesheet" href="style.css">
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: Arial, sans-serif; margin:0; background:#f7f7fb; color:#222; }

    .container { max-width:1200px; margin:1.5rem auto; padding:1rem; }
    h1 { text-align:center; margin-bottom:1rem; color:#1a202c; }

    .search-row { display:flex; justify-content:center; margin:0 0 1rem; }
    .search-row input {
      width:100%; max-width:640px; padding:0.6rem 0.9rem; border:1px solid #e2e8f0;
      border-radius:10px; font-size:1rem; outline:none; background:#fff;
    }

    .video-grid {
      display:grid;
      gap:1rem;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      align-items:start;
    }

    .card {
      background:#fff;
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
    }

    .thumb-wrap {
      width:100%;
      height:0;
      padding-bottom:56.25%; /* 16:9 */
      position:relative;
      background:#eef2f7;
      cursor:pointer;
    }
    .thumb-wrap img {
      position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;
    }
    .thumb-wrap::after {
      content:"▶";
      position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
      font-size:2.5rem; color:white; text-shadow:0 2px 8px rgba(0,0,0,0.5);
      pointer-events:none;
    }

    .card-body { padding:0.8rem 0.9rem; display:flex; flex-direction:column; gap:0.4rem; flex:1; }
    .title { font-size:0.98rem; margin:0; color:#0f1724; }
    .meta { font-size:0.82rem; color:#718096; }
    .desc { font-size:0.9rem; color:#4a5568; flex:1; overflow:hidden; }

    .actions { display:flex; gap:0.5rem; margin-top:0.6rem; flex-wrap:wrap; }
    .btn { text-decoration:none; padding:0.45rem 0.7rem; border-radius:8px; font-weight:600; font-size:0.88rem; }
    .btn-watch { background:#3b82f6; color:#fff; }
    .btn-open { background:#eef2ff; color:#0f1724; border:1px solid rgba(59,130,246,0.12); }

    .hidden { display:none !important; }

    .show-more { display:block; margin:1.5rem auto; padding:0.6rem 1.2rem;
      background:#3b82f6; color:#fff; border:none; border-radius:8px;
      font-size:1rem; cursor:pointer; }
  </style>
</head>
<body>

<header id="siteHeader"></header>
<script src="menu.js"></script>

<div class="container">
  <h1>Записи уроков</h1>

  <div class="search-row">
    <input id="search" type="text" placeholder="Поиск по названию или описанию...">
  </div>

  <div id="grid" class="video-grid"></div>
  <button id="showMore" class="show-more">Показать ещё</button>
</div>

<script>
  // === ДАННЫЕ УРОКОВ ===
  const lessons = [
     {
      id: "czgUw8ZngiUt",
      title: "Еврейское мировоззрение: Тшува и Рош а-Шана.",
      desc: "Рассказывает ребе Исроель.",
    },
    {
      id: "0wMFs4PsZyA",
      title: "Притча 'Царь в поле', о месяце Элуль и десяти дней раскаяния",
      desc: "В чем особен месяц Элуль? И как объяснить эту особенность детям? Эта притча даст ответы!",
    }, {
      id: "dJBeyj-O7rA",
      title: "Недельная глава Ницавим - Выбираем жизнь в предверии Рош Ашана",
      desc: "Рассказывает мора Керен",
    },
    {
      id: "0hhyiBh7f7w",
      title: "Месяц Элуль",
      desc: "Рассказывает ребе Исроель.",
      start: 31
    },
{
      id: "uEFTw4_SD04",
      title: "Недельная глава. Ки теце. Возвращение потери",
      desc: "Рассказывает ребе Исроель.",
    },
    {
      id: "JXnNECWOyeg",
      title: "Недельная глава. Ки теце. Война с ецер ара",
      desc: "Урок для девочек. Мора Керен.",
    },
   
    {
      id: "m6WTTctVMvI",
      title: "Мальчик, спасший корабль",
      desc: "Рассказывает ребе Исроель."
    }
  ];

  const grid = document.getElementById("grid");
  const showMoreBtn = document.getElementById("showMore");
  let shownCount = 0;
  const perPage = 8;

  function renderCard(lesson) {
    const { id, title, desc, start=0 } = lesson;
    const thumb = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
    const embed = `https://www.youtube.com/embed/${id}?rel=0&modestbranding=1${start?`&start=${start}`:""}`;
    const watch = `https://www.youtube.com/watch?v=${id}${start?`&t=${start}s`:""}`;

    const card = document.createElement("article");
    card.className = "card";
    card.dataset.title = title;
    card.dataset.desc = desc;

    card.innerHTML = `
      <div class="thumb-wrap" data-watch="${watch}">
        <img src="${thumb}" alt="${title}">
      </div>
      <div class="card-body">
        <h3 class="title">${title}</h3>
        <div class="meta">Beerot School</div>
        <div class="desc">${desc}</div>
        <div class="actions">
          <a class="btn btn-watch" href="${watch}" target="_blank">Смотреть</a>
          <a class="btn btn-open" href="${embed}" target="_blank">Открыть</a>
        </div>
      </div>
    `;

    // При клике открываем YouTube в новой вкладке
    card.querySelector(".thumb-wrap").addEventListener("click", e => {
      window.open(watch, "_blank");
    });

    return card;
  }

  function loadMore() {
    const slice = lessons.slice(shownCount, shownCount+perPage);
    slice.forEach(lesson => grid.appendChild(renderCard(lesson)));
    shownCount += slice.length;
    if (shownCount >= lessons.length) showMoreBtn.style.display = "none";
  }

  // Первоначальная загрузка
  loadMore();
  showMoreBtn.addEventListener("click", loadMore);

  // === Поиск ===
  const searchInput = document.getElementById("search");
  searchInput.addEventListener("input", () => {
    const q = searchInput.value.toLowerCase();
    grid.querySelectorAll(".card").forEach(card => {
      const hay = (card.dataset.title + " " + card.dataset.desc).toLowerCase();
      card.classList.toggle("hidden", q && !hay.includes(q));
    });
  });
</script>
  </body>
</html>
